{"environment":"development","level":"info","message":"Starting database migration...","service":"video-face-blur-api","timestamp":"2025-10-01 05:57:33"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Database migration failed:","service":"video-face-blur-api","stack":"AggregateError [ECONNREFUSED]: \n    at C:\\Users\\pakak\\.cursor\\Faceblur\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\pakak\\.cursor\\Faceblur\\src\\config\\database.js:18:17)\n    at async createTables (C:\\Users\\pakak\\.cursor\\Faceblur\\src\\config\\migrate.js:9:5)","timestamp":"2025-10-01 05:57:33"}
{"environment":"development","level":"warn","message":"Database connection failed, continuing without database: ","service":"video-face-blur-api","timestamp":"2025-10-01 06:05:30"}
{"environment":"development","level":"warn","message":"Some features may not be available","service":"video-face-blur-api","timestamp":"2025-10-01 06:05:30"}
{"environment":"development","level":"info","message":"Server running on port 3000","service":"video-face-blur-api","timestamp":"2025-10-01 06:05:30"}
{"environment":"development","level":"info","message":"Environment: development","service":"video-face-blur-api","timestamp":"2025-10-01 06:05:30"}
{"environment":"development","level":"warn","message":"Database connection failed, continuing without database: ","service":"video-face-blur-api","timestamp":"2025-10-01 08:07:20"}
{"environment":"development","level":"warn","message":"Some features may not be available","service":"video-face-blur-api","timestamp":"2025-10-01 08:07:20"}
{"environment":"development","level":"info","message":"Server running on port 3000","service":"video-face-blur-api","timestamp":"2025-10-01 08:07:20"}
{"environment":"development","level":"info","message":"Environment: development","service":"video-face-blur-api","timestamp":"2025-10-01 08:07:20"}
{"environment":"development","level":"info","message":"SIGINT received, shutting down gracefully","service":"video-face-blur-api","timestamp":"2025-10-01 08:34:14"}
{"environment":"development","level":"warn","message":"Database connection failed, continuing without database: ","service":"video-face-blur-api","timestamp":"2025-10-01 08:34:18"}
{"environment":"development","level":"warn","message":"Some features may not be available","service":"video-face-blur-api","timestamp":"2025-10-01 08:34:18"}
{"environment":"development","level":"info","message":"Server running on port 3000","service":"video-face-blur-api","timestamp":"2025-10-01 08:34:18"}
{"environment":"development","level":"info","message":"Environment: development","service":"video-face-blur-api","timestamp":"2025-10-01 08:34:18"}
{"email":"test@example.com","environment":"development","error":"","level":"warn","message":"Database not available, checking demo credentials","service":"video-face-blur-api","timestamp":"2025-10-01 08:34:42"}
{"demoUserId":1405876145,"email":"test@example.com","environment":"development","level":"info","message":"Demo login successful","service":"video-face-blur-api","timestamp":"2025-10-01 08:34:42"}
{"environment":"development","level":"info","message":"::1 - - [01/Oct/2025:02:34:42 +0000] \"POST /api/auth/login HTTP/1.1\" 200 465 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.21996.1\"","service":"video-face-blur-api","timestamp":"2025-10-01 08:34:42"}
{"email":"testuser@example.com","environment":"development","error":"","level":"warn","message":"Database not available, providing demo user","service":"video-face-blur-api","timestamp":"2025-10-01 08:34:52"}
{"environment":"development","level":"info","message":"::1 - - [01/Oct/2025:02:34:52 +0000] \"POST /api/auth/register HTTP/1.1\" 201 465 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.21996.1\"","service":"video-face-blur-api","timestamp":"2025-10-01 08:34:52"}
{"email":"test@example.com","environment":"development","error":"","level":"warn","message":"Database not available, checking demo credentials","service":"video-face-blur-api","timestamp":"2025-10-01 08:35:05"}
{"demoUserId":1405876145,"email":"test@example.com","environment":"development","level":"info","message":"Demo login successful","service":"video-face-blur-api","timestamp":"2025-10-01 08:35:05"}
{"environment":"development","level":"info","message":"::1 - - [01/Oct/2025:02:35:05 +0000] \"POST /api/auth/login HTTP/1.1\" 200 465 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.21996.1\"","service":"video-face-blur-api","timestamp":"2025-10-01 08:35:05"}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Authentication error:","service":"video-face-blur-api","stack":"AggregateError [ECONNREFUSED]: \n    at C:\\Users\\pakak\\.cursor\\Faceblur\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\pakak\\.cursor\\Faceblur\\src\\config\\database.js:18:17)\n    at async authenticateToken (C:\\Users\\pakak\\.cursor\\Faceblur\\src\\middleware\\auth.js:64:22)","timestamp":"2025-10-01 08:35:05"}
{"environment":"development","level":"info","message":"::1 - - [01/Oct/2025:02:35:05 +0000] \"GET /api/auth/profile HTTP/1.1\" 500 80 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.21996.1\"","service":"video-face-blur-api","timestamp":"2025-10-01 08:35:05"}
{"environment":"development","level":"warn","message":"Database connection failed, continuing without database: ","service":"video-face-blur-api","timestamp":"2025-10-01 08:36:40"}
{"environment":"development","level":"warn","message":"Some features may not be available","service":"video-face-blur-api","timestamp":"2025-10-01 08:36:40"}
{"environment":"development","level":"info","message":"Server running on port 3000","service":"video-face-blur-api","timestamp":"2025-10-01 08:36:40"}
{"environment":"development","level":"info","message":"Environment: development","service":"video-face-blur-api","timestamp":"2025-10-01 08:36:40"}
{"email":"test@example.com","environment":"development","error":"","level":"warn","message":"Database not available, checking demo credentials","service":"video-face-blur-api","timestamp":"2025-10-01 08:37:03"}
{"demoUserId":1405876145,"email":"test@example.com","environment":"development","level":"info","message":"Demo login successful","service":"video-face-blur-api","timestamp":"2025-10-01 08:37:03"}
{"environment":"development","level":"info","message":"::1 - - [01/Oct/2025:02:37:03 +0000] \"POST /api/auth/login HTTP/1.1\" 200 465 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.21996.1\"","service":"video-face-blur-api","timestamp":"2025-10-01 08:37:03"}
{"email":"test@example.com","environment":"development","error":"","level":"warn","message":"Database not available, checking demo credentials","service":"video-face-blur-api","timestamp":"2025-10-01 08:37:13"}
{"demoUserId":1405876145,"email":"test@example.com","environment":"development","level":"info","message":"Demo login successful","service":"video-face-blur-api","timestamp":"2025-10-01 08:37:13"}
{"environment":"development","level":"info","message":"::1 - - [01/Oct/2025:02:37:13 +0000] \"POST /api/auth/login HTTP/1.1\" 200 465 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.21996.1\"","service":"video-face-blur-api","timestamp":"2025-10-01 08:37:13"}
{"email":"test@example.com","environment":"development","level":"warn","message":"Database not available, using demo user from token","service":"video-face-blur-api","timestamp":"2025-10-01 08:37:13","userId":1405876145}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Profile fetch error:","service":"video-face-blur-api","stack":"AggregateError [ECONNREFUSED]: \n    at C:\\Users\\pakak\\.cursor\\Faceblur\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\pakak\\.cursor\\Faceblur\\src\\config\\database.js:18:17)\n    at async C:\\Users\\pakak\\.cursor\\Faceblur\\src\\routes\\auth.js:240:24","timestamp":"2025-10-01 08:37:13"}
{"environment":"development","ip":"::1","level":"error","message":"","method":"GET","service":"video-face-blur-api","stack":"AggregateError [ECONNREFUSED]: \n    at C:\\Users\\pakak\\.cursor\\Faceblur\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\pakak\\.cursor\\Faceblur\\src\\config\\database.js:18:17)\n    at async C:\\Users\\pakak\\.cursor\\Faceblur\\src\\routes\\auth.js:240:24","timestamp":"2025-10-01 08:37:13","url":"/api/auth/profile","userAgent":"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.21996.1"}
{"environment":"development","level":"info","message":"::1 - - [01/Oct/2025:02:37:13 +0000] \"GET /api/auth/profile HTTP/1.1\" 500 74 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.21996.1\"","service":"video-face-blur-api","timestamp":"2025-10-01 08:37:13"}
{"email":"test@example.com","environment":"development","error":"","level":"warn","message":"Database not available, checking demo credentials","service":"video-face-blur-api","timestamp":"2025-10-01 08:38:26"}
{"demoUserId":1405876145,"email":"test@example.com","environment":"development","level":"info","message":"Demo login successful","service":"video-face-blur-api","timestamp":"2025-10-01 08:38:26"}
{"environment":"development","level":"info","message":"::1 - - [01/Oct/2025:02:38:26 +0000] \"POST /api/auth/login HTTP/1.1\" 200 465 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.21996.1\"","service":"video-face-blur-api","timestamp":"2025-10-01 08:38:26"}
{"email":"test@example.com","environment":"development","level":"warn","message":"Database not available, using demo user from token","service":"video-face-blur-api","timestamp":"2025-10-01 08:38:26","userId":1405876145}
{"code":"ECONNREFUSED","environment":"development","level":"error","message":"Profile fetch error:","service":"video-face-blur-api","stack":"AggregateError [ECONNREFUSED]: \n    at C:\\Users\\pakak\\.cursor\\Faceblur\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\pakak\\.cursor\\Faceblur\\src\\config\\database.js:18:17)\n    at async C:\\Users\\pakak\\.cursor\\Faceblur\\src\\routes\\auth.js:240:24","timestamp":"2025-10-01 08:38:26"}
{"environment":"development","ip":"::1","level":"error","message":"","method":"GET","service":"video-face-blur-api","stack":"AggregateError [ECONNREFUSED]: \n    at C:\\Users\\pakak\\.cursor\\Faceblur\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\pakak\\.cursor\\Faceblur\\src\\config\\database.js:18:17)\n    at async C:\\Users\\pakak\\.cursor\\Faceblur\\src\\routes\\auth.js:240:24","timestamp":"2025-10-01 08:38:26","url":"/api/auth/profile","userAgent":"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.21996.1"}
{"environment":"development","level":"info","message":"::1 - - [01/Oct/2025:02:38:26 +0000] \"GET /api/auth/profile HTTP/1.1\" 500 74 \"-\" \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.21996.1\"","service":"video-face-blur-api","timestamp":"2025-10-01 08:38:26"}
{"environment":"development","level":"warn","message":"Database connection failed, continuing without database: ","service":"video-face-blur-api","timestamp":"2025-10-01 08:38:49"}
{"environment":"development","level":"warn","message":"Some features may not be available","service":"video-face-blur-api","timestamp":"2025-10-01 08:38:49"}
{"environment":"development","level":"info","message":"Server running on port 3000","service":"video-face-blur-api","timestamp":"2025-10-01 08:38:49"}
{"environment":"development","level":"info","message":"Environment: development","service":"video-face-blur-api","timestamp":"2025-10-01 08:38:49"}
